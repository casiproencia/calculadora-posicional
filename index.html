<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calculadora</title>

<style>
body{
    margin:0;
    background:#020617;
    color:#fff;
    font-family: system-ui, -apple-system, BlinkMacSystemFont;
    display:flex;
    justify-content:center;
}
.app{
    width:360px;
    padding:16px;
}
h1{
    text-align:center;
    margin-bottom:14px;
}
select,input,button{
    width:100%;
    padding:14px;
    border-radius:14px;
    border:none;
    margin-bottom:10px;
    font-size:16px;
}
select{background:#16a34a;color:#fff;font-weight:bold;}
input{background:#1f2937;color:#fff;text-align:center;}
button{background:#2563eb;color:#fff;font-weight:bold;}
.btn-reset{background:#374151;}
.boxes{
    display:flex;
    gap:10px;
}
.box{
    flex:1;
    padding:12px;
    border-radius:14px;
    font-weight:bold;
}
.res{background:#1e3a8a;}
.rest{background:#14532d;}
.paso{
    margin-top:10px;
    background:#22d3ee;
    color:#000;
    padding:12px;
    border-radius:14px;
    font-size:14px;
}
.resultado-num{color:#16a34a;font-weight:bold;}
.llevada{color:#dc2626;font-weight:bold;}
footer{text-align:center;margin-top:10px;font-size:12px;color:#94a3b8;}
</style>
</head>

<body>
<div class="app">

<h1>CALCULADORA</h1>

<select id="op">
    <option>SUMA</option>
    <option>RESTA</option>
    <option>MULTIPLICACIÓN</option>
    <option>DIVISIÓN</option>
</select>

<input id="a" type="text" inputmode="decimal" placeholder="Número A">
<input id="b" type="text" inputmode="decimal" placeholder="Número B">

<button onclick="calcular()">CALCULAR</button>
<button class="btn-reset" onclick="resetear()">REINICIAR</button>

<div class="boxes">
    <div class="box res">Resultado<br><span id="res">—</span></div>
    <div class="box rest">Resto<br><span id="resto">—</span></div>
</div>

<div class="paso" id="paso">PROCESO PASO A PASO</div>

<footer>Creada por Jose Casanova</footer>

</div>

<script>
function parseNum(v){
    return v.replace(',','.').trim();
}
function contarDec(v){
    return v.includes('.') ? v.split('.')[1].length : 0;
}
function calcular(){
    const op=document.getElementById('op').value;
    let a=parseNum(document.getElementById('a').value);
    let b=parseNum(document.getElementById('b').value);

    if(a===''||b===''){return;}

    const da=contarDec(a);
    const db=contarDec(b);

    const fa=Math.pow(10,da);
    const fb=Math.pow(10,db);

    const Ai=Math.round(parseFloat(a)*fa);
    const Bi=Math.round(parseFloat(b)*fb);

    let res=0,rest='—',txt='';

    if(op==='SUMA'){
        res=(Ai*fb + Bi*fa)/(fa*fb);
        txt='Suma correcta alineando decimales.';
    }

    if(op==='RESTA'){
        res=(Ai*fb - Bi*fa)/(fa*fb);
        txt='Resta directa con decimales alineados.';
    }

    if(op==='MULTIPLICACIÓN'){
        res=(Ai*Bi)/(fa*fb);
        txt='Multiplicación posicional correcta.';
    }

    if(op==='DIVISIÓN'){
        res=(Ai/Bi);
        rest=Ai % Bi;
        txt='División con colocación correcta de la coma.';
    }

    const decFinal = (op==='MULTIPLICACIÓN') ? da+db :
                     (op==='SUMA'||op==='RESTA') ? Math.max(da,db) :
                     da;

    document.getElementById('res').textContent =
        Number(res).toFixed(decFinal).replace('.',',');

    document.getElementById('resto').textContent =
        (op==='DIVISIÓN') ? rest : '—';

    document.getElementById('paso').innerHTML = txt;
}

function resetear(){
    document.getElementById('a').value='';
    document.getElementById('b').value='';
    document.getElementById('res').textContent='—';
    document.getElementById('resto').textContent='—';
    document.getElementById('paso').textContent='PROCESO PASO A PASO';
}
</script>

</body>
</html>